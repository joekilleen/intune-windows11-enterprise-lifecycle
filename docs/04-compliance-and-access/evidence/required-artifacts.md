# Required Evidence Artifacts  
**Compliance, Conditional Access, and Remediation**

---

## Purpose

This document defines the **mandatory evidence artifacts** required to demonstrate effective compliance enforcement for Windows 11 devices.

It exists to ensure that:
- Compliance controls are **not theoretical**
- Enforcement decisions are **provable**
- Audits can be satisfied **without ad-hoc data collection**
- Security, legal, and procurement stakeholders have a shared evidence baseline

If evidence does not exist, **the control does not exist**.

---

## Evidence Design Principles

All evidence artifacts must be:

1. **Authoritative** – generated by the system of record
2. **Timestamped** – showing when the event occurred
3. **Attributable** – tied to a device, user, or policy
4. **Exportable** – retrievable without custom tooling
5. **Retainable** – preserved according to retention policy

Screenshots alone are **not sufficient** unless explicitly stated.

---

## Evidence Categories

Evidence is grouped into four categories:

1. Configuration Evidence  
2. State & Evaluation Evidence  
3. Enforcement Evidence  
4. Remediation & Recovery Evidence  

Each category is required for a **complete audit trail**.

---

## 1. Configuration Evidence

Configuration evidence proves **what was intended**.

### Required Artifacts

| Artifact | Source | Purpose |
---|---|---|
| Compliance policy definition | Intune | Defines required device state |
| Conditional Access policy configuration | Entra ID | Defines enforcement rules |
| Grace period settings | Intune | Shows tolerance window |
| Remediation scripts/policies | Intune | Shows automated recovery |

---

### Acceptable Formats

- Exported JSON
- Policy configuration export
- Read-only portal screenshots (supplemental only)

---

## 2. State & Evaluation Evidence

State evidence proves **what the device reported** and **how it was evaluated**.

### Required Artifacts

| Artifact | Source | Purpose |
---|---|---|
| Device compliance status | Intune | Current and historical compliance |
| Non-compliance reason | Intune | Root cause visibility |
| Compliance evaluation timestamp | Intune | Enforcement timing |
| Device properties (TPM, Secure Boot, OS) | Intune | Hardware trust validation |

---

### Retention Requirement

- Minimum: **90 days**
- Recommended: **180 days**

---

## 3. Enforcement Evidence

Enforcement evidence proves **what action was taken** as a result of compliance state.

### Required Artifacts

| Artifact | Source | Purpose |
---|---|---|
| Conditional Access sign-in logs | Entra ID | Show allow/block decisions |
| CA policy evaluation results | Entra ID | Policy-level enforcement |
| Access denial events | Entra ID | Proof of fail-closed behavior |
| App access attempt metadata | Entra ID | Scope confirmation |

---

### Required Fields (Minimum)

- User
- Device ID
- Compliance state
- CA policy applied
- Result (Granted / Blocked)
- Timestamp

---

## 4. Remediation & Recovery Evidence

Remediation evidence proves **what was done after failure**.

### Required Artifacts

| Artifact | Source | Purpose |
---|---|---|
| Remediation attempt logs | Intune | Automated recovery |
| Policy reapplication events | Intune | Drift correction |
| Reset or wipe actions | Intune audit logs | Rebuild confirmation |
| Post-remediation compliance | Intune | Trust restoration |

---

### Special Case — High-Risk Incidents

For suspected compromise:

| Artifact | Source |
---|---|
| Defender alert details | Defender portal |
| Device isolation actions | Defender portal |
| Wipe confirmation | Intune |
| Post-wipe enrollment record | Intune |

---

## Evidence Mapping to Controls

| Control | Evidence Category |
---|---|
| Compliance policy | Configuration |
| Compliance evaluation | State |
| Conditional Access | Enforcement |
| Grace period expiration | Enforcement |
| Automated remediation | Remediation |
| Reset / wipe | Recovery |

---

## Evidence Retrieval Guidance

### Intune

- Devices → Monitor → Compliance
- Devices → Device timeline
- Reports → Compliance

### Entra ID

- Sign-in logs
- Conditional Access insights
- Audit logs

### Defender

- Device inventory
- Alerts
- Action history

---

## Evidence Integrity Rules

- Evidence must not be altered
- Manual annotation must be separate
- Export dates must be recorded
- Chain-of-custody must be maintained for investigations

---

## Common Audit Findings (Avoid These)

| Finding | Prevention |
---|---|
| Note-only compliance | Enforce via CA |
| No proof of enforcement | Retain sign-in logs |
| Overbroad CA exclusions | Document and scope |
| Missing remediation trail | Retain device timelines |
| Screenshots only | Export structured data |

---

## Ownership and Accountability

| Role | Responsibility |
---|---|
| Endpoint Engineering | Configuration accuracy |
| Security Operations | Enforcement validation |
| GRC / Audit | Evidence review |
| Management | Risk acceptance |

---

## Summary

Evidence artifacts are the **proof layer** of Zero Trust.

They demonstrate that:
- Controls exist
- Controls operate as designed
- Failures means denial
- Recovery is decisive
- Risk is managed, not assumed

Without evidence, compliance is **aspirational**.

---

## Section Completion

With this document, **Section 4 — Compliance & Conditional Access** is **fully complete and auditable**.

---

## Next Section

Proceed to:

➡ **`docs/05-applications/12-application-lifecycle-architecture.md`**

This section defines **application packaging, deployment strategy, and ESP-safe design patterns**.
